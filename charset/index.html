<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>CharMap Modular</title>
  <style>
    body {
      font-family: monospace;
      background: #0b0f14;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    select {
      margin: 10px;
      padding: 5px;
      font-size: 16px;
    }
    table {
      border-collapse: collapse;
      margin-top: 10px;
    }
    td {
      border: 1px solid #555;
      padding: 10px;
      text-align: center;
      cursor: pointer;
      min-width: 30px;
    }
    td:hover {
      background: #333;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Carlito&family=Signika&family=Lilita+One&display=swap" rel="stylesheet">
</head>
<body>

  <h1>CharMap</h1>

  <label for="fontSelect">Schriftart:</label>
  <select id="fontSelect">
    <option value="Arial">Arial</option>
    <option value="Segoe UI">Segoe UI</option>
    <option value="Times">Times</option>
    <option value="Verdana">Verdana</option>
    <option value="Courier">Courier</option>
    <option value="Georgia">Georgia</option>
    <option value="'Carlito', sans-serif">Carlito</option>
    <option value="'Signika', sans-serif">Signika</option>
    <option value="'Bungee', cursive">Bungee</option>
    <option value="'Lilita One', cursive">Lilita One</option>
  </select>

  <label for="pageSelect">Codepage:</label>
  <select id="pageSelect"></select>

  <table id="charmap"></table>

  <script>
    const table = document.getElementById("charmap");
    const pageSelect = document.getElementById("pageSelect");

    // Latin1
    const latin1 = Array.from({length: 256}, (_, i) => String.fromCharCode(i));

    // Octo1 (vollstÃ¤ndig integriert)
    const octo1 = [
      "Null","â†","â†‘","â†’","â†“","â†”","â†•","â•","â•‘","â•”","â•—","â•š","â•","ğŸ—•","ğŸ—–","ğŸ——",
      "ğŸ—™","Ï€","Î”","î€ ","ğŸ˜€","ğŸ˜¢","â€Ÿ","TÌ","tÌ","ğ„","ğŸ¡°","ğŸ¡±","ğŸ¡²","ğŸ¡³","â†°","â†±",
      "Sp","!","\"","#","$","%","&","'","(","*",")","+",",","-",".","/",
      "0","1","2","3","4","5","6","7","8","9",":",";","<","="," >", "?",
      "@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O",
      "P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_",
      "`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o",
      "p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"," ",
      "â‚¬","â€š","Æ’","â€","â€¦","â€ ","â€¡","Ë†","â€°","Å ","â€¹","Å’","Ã","Å½","Ä‡","Ã°",
      "Ä†","â€˜","â€™","â€œ","â€","â€¢","â€“","â€”","Ëœ","â„¢","Å¡","â€º","Å“","Ã®","Å¾","Å¸",
      "NBSP","Â¡","VÌ¶","Â£","Â¤","Â¥","Â¦","Â§","Â¨","Â©","Âª","Â«","Â¬","SHY","Â®","Â¯",
      "Â°","Â±","Â²","Â³","Â´","Âµ","Â¶","Â·","Â¸","Â¹","Âº","Â»","Â¼","Â½","Â¾","Â¿",
      "Ã€","Ã","Ã‚","Ãƒ","Ã„","Ä„","AÌˆÌ","Ã‡","Ãˆ","Ã‰","ÃŠ","Ã‹","ÃŒ","Ã","Äš","Ã",
      "Ä","Ã‘","Ã’","Ã“","Ã”","Ã•","Ã–","Ã—","Å˜","Ã™","Ãš","Ã›","Ãœ","Ã","fÌŒ","ÃŸ",
      "Ã ","Ã¡","Ã¢","Ã£","Ã¤","Ä…","aÌˆÌ","Ã§","Ã¨","Ã©","Ãª","Ã«","Ã¬","Ã­","Ä›","Ã¯",
      "Ä","Ã±","Ã²","Ã³","Ã´","Ãµ","Ã¶","Ã·","Å™","Ã¹","Ãº","Ã»","Ã¼","Ã½","ğŸ™","Ã¿"
    ];

    // SymbolblÃ¶cke
    const symbolA = Array.from({length: 256}, (_, i) => String.fromCharCode(0x2600 + i));
    const symbolB = Array.from({length: 256}, (_, i) => String.fromCharCode(0x2700 + i));
    const symbolC = Array.from({length: 256}, (_, i) => String.fromCharCode(0x0370 + i));

    // Emoji-Ranges
    const emojiRanges = [
      [0x1F300, 0x1F5FF],
      [0x1F600, 0x1F64F],
      [0x1F680, 0x1F6FF],
      [0x1F700, 0x1F77F],
      [0x1F780, 0x1F7FF],
      [0x1F800, 0x1F8FF],
      [0x1F900, 0x1F9FF],
      [0x1FA00, 0x1FAFF],
      [0x1FB00, 0x1FBFF]
    ];

    // Emojis sammeln
    let allEmojis = [];
    emojiRanges.forEach(([start, end]) => {
      for (let i = start; i <= end; i++) {
        const char = String.fromCodePoint(i);
        if (/\p{Emoji}/u.test(char)) allEmojis.push(char);
      }
    });

    // Emoji-BlÃ¶cke erzeugen
    const emojiBlocks = {};
    const blockCount = Math.ceil(allEmojis.length / 256);
    for (let i = 0; i < blockCount; i++) {
      const label = `emoji${String.fromCharCode(65 + i)}`; // emojiA, emojiB, â€¦
      emojiBlocks[label] = allEmojis.slice(i * 256, (i + 1) * 256);
    }

    // Dropdown fÃ¼llen
    const staticPages = {
      octo1: "Octo1",
      latin1: "Latin1",
      symbolA: "Symbol A",
      symbolB: "Symbol B",
      symbolC: "Symbol C"
    };

    Object.entries(staticPages).forEach(([key, label]) => {
      const opt = document.createElement("option");
      opt.value = key;
      opt.textContent = label;
      pageSelect.appendChild(opt);
    });

    Object.keys(emojiBlocks).forEach(label => {
      const opt = document.createElement("option");
      opt.value = label;
      opt.textContent = `Emoji ${label.slice(-1)}`;
      pageSelect.appendChild(opt);
    });

    // Tabelle bauen
    function buildTable(page) {
      table.innerHTML = "";
      for (let row = 0; row < 16; row++) {
        const tr = document.createElement("tr");
        for (let col = 0; col < 16; col++) {
          const idx = row * 16 + col;
          const td = document.createElement("td");
          td.textContent = page[idx] || "";
          td.title = `Code: 0x${idx.toString(16).toUpperCase().padStart(2,'0')}`;
          td.onclick = () => {
            navigator.clipboard.writeText(page[idx]);
            alert(`"${page[idx]}" in die Zwischenablage kopiert!`);
          };
          tr.appendChild(td);
        }
        table.appendChild(tr);
      }
    }

    // Schriftartwechsel
    document.getElementById("fontSelect").addEventListener("change", (e) => {
      table.style.fontFamily = e.target.value;
    });

    // Codepagewechsel
    pageSelect.addEventListener("change", (e) => {
      const value = e.target.value;
      if (emojiBlocks[value]) {
        buildTable(emojiBlocks[value]);
      } else if (value === "octo1") {
        buildTable(octo1);
      } else if (value === "latin1") {
        buildTable(latin1);
      } else if (value === "symbolA") {
        buildTable(symbolA);
      } else if (value === "symbolB") {
        buildTable(symbolB);
      } else if (value === "symbolC") {
        buildTable(symbolC);
      }
    });

    // Initiale Anzeige
    buildTable(octo1);
  </script>
</body>
</html>
