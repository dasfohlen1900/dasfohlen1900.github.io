<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>CharMap Modular</title>
  <style>
    body {
      font-family: monospace;
      background: #0b0f14;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    select {
      margin: 10px;
      padding: 5px;
      font-size: 16px;
    }
    table {
      border-collapse: collapse;
      margin-top: 10px;
    }
    td {
      border: 1px solid #555;
      padding: 10px;
      text-align: center;
      cursor: pointer;
      min-width: 30px;
    }
    td:hover {
      background: #333;
    }
  </style>
</head>
<body>

  <h1>CharMap</h1>

  <label for="fontSelect">Schriftart:</label>
  <select id="fontSelect">
    <option value="Arial">Arial</option>
    <option value="Segoe UI">Segoe UI</option>
    <option value="Times">Times</option>
    <option value="Verdana">Verdana</option>
    <option value="Courier">Courier</option>
    <option value="Georgia">Georgia</option>
    <option value="'Carlito', sans-serif">Carlito</option>
    <option value="'Signika', sans-serif">Signika</option>
    <option value="'Bungee', cursive">Bungee</option>
    <option value="'Lilita One', cursive">Lilita One</option>
  </select>

  <label for="pageSelect">Codepage:</label>
  <select id="pageSelect"></select>

  <table id="charmap"></table>

  <script>
    const table = document.getElementById("charmap");
    const pageSelect = document.getElementById("pageSelect");

    function buildTable(page) {
      table.innerHTML = "";
      for (let row = 0; row < 16; row++) {
        const tr = document.createElement("tr");
        for (let col = 0; col < 16; col++) {
          const idx = row * 16 + col;
          const td = document.createElement("td");
          td.textContent = page[idx] || "";
          td.title = `Code: 0x${idx.toString(16).toUpperCase().padStart(2,'0')}`;
          td.onclick = () => {
            navigator.clipboard.writeText(page[idx]);
            alert(`"${page[idx]}" kopiert!`);
          };
          tr.appendChild(td);
        }
        table.appendChild(tr);
      }
    }

    document.getElementById("fontSelect").addEventListener("change", (e) => {
      table.style.fontFamily = e.target.value;
    });
        // Latin1
    const latin1 = Array.from({length: 256}, (_, i) => String.fromCharCode(i));

    // Octo1 (dein Custom-Set)
    const octo1 = [/* dein Octo1-Array hier einfügen */];

    // Symbolblöcke
    const symbolA = Array.from({length: 256}, (_, i) => String.fromCharCode(0x2600 + i));
    const symbolB = Array.from({length: 256}, (_, i) => String.fromCharCode(0x2700 + i));
    const symbolC = Array.from({length: 256}, (_, i) => String.fromCharCode(0x0370 + i));

    // Special Characters
    const specialChars = [
      ..."1234567890!\"#$%&'()*+,-/:;<=>?@[\\]^_`{|}~",
      "¡","¢","£","¤","¥","¦","§","©","ª","«","¬","®","¯",
      "°","¨","±","²","³","´","¶","µ","·","¸","¹","º","»",
      "¼","½","¾","¿","ˆ","ˇ","˝","˚","˛","˘","˙","‐",
      "‘","’","‚","‛","“","”","„","‟","†","‡","•","…","‰",
      "′","″","‴","‹","›","‽","⁄","⁰","⁴","⁵","⁶","⁷","⁸","⁹",
      "₀","₁","₂","₃","₄","₅","₆","₇","₈","₉",
      "⁺","₊","⁻","₋","⁼","₌","⁽","₍","⁾","€","№",
      "⅐","⅑","⅒","⅓","⅔","⅕","⅖","⅗","⅘","⅙","⅚","⅛","⅝","⅞","↉"
    ];

    // Latin Extended
    const latinExtendedRaw = `A À Á Â Ã Ä Å Æ Ā Ă Ą Ȁ Ȃ Ǻ Ǎ Ǟ Ǽ Ȧ Ạ Ả Ấ Ầ Ẩ Ẫ Ậ Ắ Ằ Ẳ Ẵ Ặ Ɑ Ꜹ
B Ƀ Ḃ C Ç Ć Ĉ Ċ Č Ƈ Ḉ D Ð Ď Đ Ɖ Ǆ Ǳ Ḋ E È É Ê Ë Ē Ĕ Ė Ę Ě Ə Ȅ Ȇ Ḝ Ẹ Ẻ Ẽ Ế Ề Ể Ễ Ệ
F Ƒ Ḟ G Ĝ Ğ Ġ Ģ Ǧ Ǵ H Ĥ Ħ Ȟ Ḣ Ḧ Ḩ Ḫ I Ì Í Î Ï Ĩ Ī Ĭ Į İ Ĳ Ǐ Ȉ Ȋ Ḯ Ỉ Ị
J Ĵ K Ķ ĸ Ǩ Ḱ L Ĺ Ļ Ľ Ŀ Ł Ǉ M Ḿ N Ñ Ń Ņ Ň ŉ Ŋ Ǹ Ṅ
O Ò Ó Ô Õ Ö Ø Ō Ŏ Ő Œ Ơ Ǒ Ǭ Ȍ Ȏ Ṏ Ṓ Ṍ Ọ Ỏ Ố Ồ Ổ Ỗ Ộ Ớ Ờ Ở Ỡ Ợ
P Ṕ Q R Ŕ Ŗ Ř Ȑ Ȓ Ɍ S Ś Ŝ Ş Š Ș Ṡ Ṥ Ṧ ẞ
T Þ Ţ Ť Ŧ Ț U Ù Ú Û Ü Ũ Ū Ŭ Ů Ű Ų Ư Ȕ Ȗ Ṹ Ử Ữ Ự Ử Ừ Ứ Ụ Ủ
V W Ŵ Ẁ Ẃ Ẅ Ẇ X Ẋ Ẍ Y Ý Ÿ Ŷ Ỳ Ỵ Ỷ Ỹ Z Ź Ż Ž Ʒ Ǯ`.trim();

    const latinExtendedSet = latinExtendedRaw
      .split(/\s+/)
      .flatMap(ch => [ch, ch.toLowerCase()])
      .filter((v, i, a) => a.indexOf(v) === i);

    const latinBlocks = {};
    const latinCount = Math.ceil(latinExtendedSet.length / 256);
    for (let i = 0; i < latinCount; i++) {
      const label = `latin${String.fromCharCode(65 + i)}`;
      const block = latinExtendedSet.slice(i * 256, (i + 1) * 256);
      while (block.length < 256) block.push("");
      latinBlocks[label] = block;
    }
        // Emoji-Ranges
    const emojiRanges = [
      [0x1F300, 0x1F5FF],
      [0x1F600, 0x1F64F],
      [0x1F680, 0x1F6FF],
      [0x1F700, 0x1F77F],
      [0x1F780, 0x1F7FF],
      [0x1F800, 0x1F8FF],
      [0x1F900, 0x1F9FF],
      [0x1FA00, 0x1FAFF],
      [0x1FB00, 0x1FBFF]
    ];

    let allEmojis = [];
    emojiRanges.forEach(([start, end]) => {
      for (let i = start; i <= end; i++) {
        const char = String.fromCodePoint(i);
        if (/\p{Emoji}/u.test(char)) allEmojis.push(char);
      }
    });

    const emojiBlocks = {};
    const blockCount = Math.ceil(allEmojis.length / 256);
    for (let i = 0; i < blockCount; i++) {
      const label = `emoji${String.fromCharCode(65 + i)}`;
      const block = allEmojis.slice(i * 256, (i + 1) * 256);
      while (block.length < 256) block.push("");
      emojiBlocks[label] = block;
    }

    // Dropdown füllen
    const staticPages = {
      octo1: "Octo1",
      latin1: "Latin1",
      symbolA: "Symbol A",
      symbolB: "Symbol B",
      symbolC: "Symbol C",
      specialChars: "Special Characters"
    };

    Object.entries(staticPages).forEach(([key, label]) => {
      const opt = document.createElement("option");
      opt.value = key;
      opt.textContent = label;
      pageSelect.appendChild(opt);
    });

    Object.keys(latinBlocks).forEach(label => {
      const opt = document.createElement("option");
      opt.value = label;
      opt.textContent = `Latin ${label.slice(-1)}`;
      pageSelect.appendChild(opt);
    });

    Object.keys(emojiBlocks).forEach(label => {
      const opt = document.createElement("option");
      opt.value = label;
      opt.textContent = `Emoji ${label.slice(-1)}`;
      pageSelect.appendChild(opt);
    });

    // Codepagewechsel
    pageSelect.addEventListener("change", (e) => {
      const value = e.target.value;
      if (emojiBlocks[value]) buildTable(emojiBlocks[value]);
      else if (latinBlocks[value]) buildTable(latinBlocks[value]);
      else if (value === "octo1") buildTable(octo1);
      else if (value === "latin1") buildTable(latin1);
      else if (value === "symbolA") buildTable(symbolA);
      else if (value === "symbolB") buildTable(symbolB);
      else if (value === "symbolC") buildTable(symbolC);
      else if (value === "specialChars") buildTable(specialChars);
    });

    // Initiale Anzeige
    buildTable(octo1);
  </script>
</body>
</html>
