<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Mini-Office Store – Gladbach Edition</title>

<!-- Bungee Font -->
<link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">

<style>
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    background:#e6f2e6;
    margin:0;
    padding:0;
  }

  header {
    background:#000000;
    color:white;
    text-align:center;
    padding:20px;
    font-family: 'Bungee', cursive;
    font-size:32px;
    font-weight:bold;
  }

  main {
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:30px 10px;
  }

  form, #store, #loginContainer, #logoutBtn {
    width:100%;
    max-width:500px;
    background:white;
    padding:20px;
    margin:10px 0;
    border-radius:12px;
    box-shadow:0 5px 15px rgba(0,0,0,0.2);
    display:flex;
    flex-direction:column;
    gap:10px;
  }

  input, button {
    padding:12px;
    font-size:16px;
    border-radius:8px;
    border:1px solid #ccc;
  }

  button {
    background:#00703C;
    color:white;
    border:none;
    cursor:pointer;
    font-family: 'Bungee', cursive;
    font-weight:normal;
  }

  button:hover { background:#005f2b; }

  h2 {
    text-align:center;
    color:#000000;
    font-family: 'Bungee', cursive;
  }

  #store ul {
    list-style:none;
    padding:0;
    display:flex;
    flex-direction:column;
    gap:16px;
  }

  #store li {
    display:flex;
    align-items:flex-start;
    gap:16px;
    padding:16px;
    background:white;
    border-radius:12px;
    box-shadow:0 5px 10px rgba(0,0,0,0.1);
  }

  #store img {
    width:48px;
    height:48px;
  }

  .zip-info { flex:1; }
  .zip-info span { display:block; }

  #store a {
    position:relative;
    color:white;
    text-decoration:none;
    background:#00703C;
    padding:8px 16px;
    border-radius:6px;
    font-family: 'Bungee', cursive;
    align-self:center;
    transition: all 0.3s ease;
    overflow:hidden;
  }

  #store a:hover {
    background:#005f2b;
    transform: translateY(-3px) scale(1.05);
    box-shadow:0 5px 15px rgba(0,0,0,0.3);
  }

  /* Glanz-Animation */
  #store a::after {
    content: "";
    position: absolute;
    top:0;
    left:-75%;
    width:50%;
    height:100%;
    background: linear-gradient(120deg, rgba(255,255,255,0.3), rgba(255,255,255,0));
    transform: skewX(-25deg);
    transition: all 0.5s ease;
  }

  #store a:hover::after { left:125%; }

  .zip-desc { font-size:14px; color:#333; }

  #logoutBtn { max-width:200px; align-self:center; }
</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
import { 
  getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword,
  signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyC4vkDRFGgoHZ8lyGY8VeYYtP6oA-PqaNs",
  authDomain: "lukovic-store.firebaseapp.com",
  projectId: "lukovic-store",
  storageBucket: "lukovic-store.firebasestorage.app",
  messagingSenderId: "519122370011",
  appId: "1:519122370011:web:d7bc0ec5cb066d4f033bfe"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const googleProvider = new GoogleAuthProvider();

document.addEventListener("DOMContentLoaded", () => {
  const loginForm = document.getElementById("loginForm");
  const registerForm = document.getElementById("registerForm");
  const loginGoogleBtn = document.getElementById("loginGoogle");
  const logoutBtn = document.getElementById("logoutBtn");
  const storeContent = document.getElementById("store");

  loginForm.addEventListener("submit", (e) => {
    e.preventDefault();
    const email = e.target.email.value;
    const password = e.target.password.value;
    signInWithEmailAndPassword(auth, email, password)
      .catch(err => alert("Login fehlgeschlagen: " + err.message));
  });

  registerForm.addEventListener("submit", (e) => {
    e.preventDefault();
    const email = e.target.email.value;
    const password = e.target.password.value;
    createUserWithEmailAndPassword(auth, email, password)
      .then(() => alert("Registrierung erfolgreich! Sie sind jetzt angemeldet."))
      .catch(err => alert("Registrierung fehlgeschlagen: " + err.message));
  });

  loginGoogleBtn.addEventListener("click", () => {
    signInWithPopup(auth, googleProvider).catch(err => alert("Fehler: " + err.message));
  });

  logoutBtn.addEventListener("click", () => {
    signOut(auth).catch(err => alert("Fehler beim Abmelden: " + err.message));
  });

  onAuthStateChanged(auth, (user) => {
    if(user){
      loginForm.style.display = "none";
      registerForm.style.display = "none";
      loginGoogleBtn.style.display = "none";
      logoutBtn.style.display = "block";
      storeContent.style.display = "block";
    } else {
      loginForm.style.display = "flex";
      registerForm.style.display = "flex";
      loginGoogleBtn.style.display = "block";
      logoutBtn.style.display = "none";
      storeContent.style.display = "none";
    }
  });
});
</script>
</head>

<body>
<header>Mini-Office Store – Gladbach Edition</header>
<main>

<form id="loginForm">
  <h2>Anmelden</h2>
  <input type="email" name="email" placeholder="E-Mail-Adresse" required>
  <input type="password" name="password" placeholder="Passwort" required>
  <button type="submit">Anmelden</button>
</form>

<form id="registerForm">
  <h2>Registrieren</h2>
  <input type="email" name="email" placeholder="E-Mail-Adresse" required>
  <input type="password" name="password" placeholder="Passwort (min. 6 Zeichen)" required>
  <button type="submit">Registrieren</button>
</form>

<div id="loginContainer">
  <button id="loginGoogle">Mit Google anmelden</button>
</div>

<button id="logoutBtn" style="display:none;">Abmelden</button>

<div id="store" style="display:none;">
  <h2>Downloads (nur für eingeloggte Benutzer)</h2>
  <ul>
    <li>
      <img src="https://cdn-icons-png.flaticon.com/512/109/109612.png" alt="Download-Icon">
      <div class="zip-info">
        <span>HTML.zip</span>
        <span class="zip-desc">Enthält alle HTML-Dateien für Mini-Office – direkt im Browser nutzbar</span>
      </div>
      <a href="download/HTML.zip">Herunterladen</a>
    </li>
    <li>
      <img src="https://cdn-icons-png.flaticon.com/512/109/109612.png" alt="Download-Icon">
      <div class="zip-info">
        <span>EXE.zip</span>
        <span class="zip-desc">Fertige EXE-Datei für Windows – direkt installieren und starten</span>
      </div>
      <a href="download/EXE.zip">Herunterladen</a>
    </li>
    <li>
      <img src="https://cdn-icons-png.flaticon.com/512/888/888857.png" alt="Download-Icon">
      <div class="zip-info">
        <span>APK.zip</span>
        <span class="zip-desc">Für Android-Geräte – direkt installieren</span>
      </div>
      <a href="download/APK.zip">Herunterladen</a>
    </li>
    <li>
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Download-Icon">
      <div class="zip-info">
        <span>FONT1.zip</span>
        <span class="zip-desc">Sans Serif-Bundle</span>
      </div>
      <a href="download/FONT1.zip">Herunterladen</a>
    </li>
    <li>
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Download-Icon">
      <div class="zip-info">
        <span>FONT2.zip</span>
        <span class="zip-desc">Retro Bundle</span>
      </div>
      <a href="download/FONT2.zip">Herunterladen</a>
    </li>
  </ul>
</div>

</main>
</body>
</html>
