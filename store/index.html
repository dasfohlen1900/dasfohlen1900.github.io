<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Mini-Office Store</title>
<link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">
<style>
body { font-family:"Segoe UI", Arial, sans-serif; background:#e6f2e6; margin:0; padding:0; }
header { background:#000; color:white; text-align:center; padding:20px; font-family:'Bungee', cursive; font-size:32px; font-weight:bold; }
main { display:flex; flex-direction:column; align-items:center; padding:30px 10px; }
#storeList { width:100%; max-width:600px; list-style:none; padding:0; display:flex; flex-direction:column; gap:16px; }
#storeList li { display:flex; align-items:flex-start; gap:16px; padding:16px; background:white; border-radius:12px; box-shadow:0 5px 10px rgba(0,0,0,0.1); }
#storeList img { width:48px; height:48px; }
.zip-info { flex:1; } .zip-info span { display:block; }
.downloadBtn { padding:10px 16px; background:#00703C; color:white; border:none; border-radius:8px; font-family:'Bungee', cursive; cursor:pointer; transition:all 0.3s ease; }
.downloadBtn:hover { background:#005f2b; transform:translateY(-2px) scale(1.03); }
</style>
</head>
<body>

<header>Mini-Office Store</header>
<main>
<ul id="storeList">
  <li>
    <img src="https://cdn-icons-png.flaticon.com/512/109/109612.png" alt="Download-Icon">
    <div class="zip-info">
      <span>HTML.zip</span>
      <span class="zip-desc">Alle HTML-Dateien – direkt im Browser nutzbar</span>
    </div>
    <button class="downloadBtn" data-file="download/HTML.zip">Herunterladen</button>
  </li>
  <li>
    <img src="https://cdn-icons-png.flaticon.com/512/109/109612.png" alt="Download-Icon">
    <div class="zip-info">
      <span>EXE.zip</span>
      <span class="zip-desc">Windows EXE – direkt installieren</span>
    </div>
    <button class="downloadBtn" data-file="download/EXE.zip">Herunterladen</button>
  </li>
  <li>
    <img src="https://cdn-icons-png.flaticon.com/512/888/888857.png" alt="Download-Icon">
    <div class="zip-info">
      <span>APK.zip</span>
      <span class="zip-desc">Für Android-Geräte – direkt installieren</span>
    </div>
    <button class="downloadBtn" data-file="download/APK.zip">Herunterladen</button>
  </li>
  <li>
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Download-Icon">
    <div class="zip-info">
      <span>FONT1.zip</span>
      <span class="zip-desc">Sans Serif Bundle</span>
    </div>
    <button class="downloadBtn" data-file="download/FONT1.zip">Herunterladen</button>
  </li>
  <li>
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Download-Icon">
    <div class="zip-info">
      <span>FONT2.zip</span>
      <span class="zip-desc">Retro-Bundle</span>
    </div>
    <button class="downloadBtn" data-file="download/FONT2.zip">Herunterladen</button>
  </li>
</ul>
</main>

<script>
// Erlaubte IDs
const allowedIDs = ["Lukas","008","Jakob","013","Moritz","002","Jakobd","009"];
const guestIDs = ["661","662","663"]; // Gast-IDs gesperrt

// Download-Buttons
document.querySelectorAll(".downloadBtn").forEach(btn => {
  btn.addEventListener("click", async () => {
    let id = await scanMiniCard(); // QR/NFC-Scan (Dummy-Funktion)

    if(!id){
      // Fallback: manuelle ID-Eingabe
      id = prompt("Bitte deine Mini-Card ID eingeben:");
    }

    if(!id){
      alert("Keine ID angegeben. Download abgebrochen.");
      return;
    }

    if(guestIDs.includes(id)){
      alert("Gast-IDs haben keinen Zugriff!");
      return;
    }

    if(!allowedIDs.includes(id)){
      alert("Ungültige Mini-Card ID!");
      return;
    }

    // Auth erfolgreich → Download starten
    const file = btn.getAttribute("data-file");
    const a = document.createElement("a");
    a.href = file;
    a.download = file.split("/").pop();
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  });
});

// Dummy-Funktion für Mini-Card Scan (QR/NFC)
async function scanMiniCard(){
  // Hier kannst du später deinen Scanner einbinden
  // Rückgabe: ID als String oder null, wenn nichts erkannt
  return null; // momentan deaktiviert → prompt wird genutzt
}
</script>

</body>
</html>
